function onScroll(){var a=$(document).scrollTop();$("#navigation a").each(function(){var e=$(this),t=$(e.attr("href"));t.position().top<=a&&t.position().top+t.height()>a?($("#navigation a.active").removeClass("active"),$(this).addClass("active")):e.removeClass("active")})}function initHeader(){width=window.innerWidth,height=window.innerHeight,target={x:0,y:height},largeHeader=document.getElementById("large-header"),largeHeader.style.height=height+"px",canvas=document.getElementById("demo-canvas"),canvas.width=width,canvas.height=height,ctx=canvas.getContext("2d"),circles=[];for(var a=0;a<.5*width;a++){var e=new Circle;circles.push(e)}animate()}function addListeners(){window.addEventListener("scroll",scrollCheck),window.addEventListener("resize",resize)}function scrollCheck(){animateHeader=!(document.body.scrollTop>height)}function resize(){width=window.innerWidth,height=window.innerHeight,largeHeader.style.height=height+"px",canvas.width=width,canvas.height=height}function animate(){if(animateHeader){ctx.clearRect(0,0,width,height);for(var a in circles)circles[a].draw()}requestAnimationFrame(animate)}function Circle(){function a(){e.pos.x=Math.random()*width,e.pos.y=height+100*Math.random(),e.alpha=.1+.3*Math.random(),e.scale=.1+.3*Math.random(),e.velocity=Math.random()}var e=this;(function(){e.pos={},a()})(),this.draw=function(){e.alpha<=0&&a(),e.pos.y-=e.velocity,e.alpha-=5e-4,ctx.beginPath(),ctx.arc(e.pos.x,e.pos.y,10*e.scale,0,2*Math.PI,!1),ctx.fillStyle="rgba(255,255,255,"+e.alpha+")",ctx.fill()}}var host="www.krcreativeagency.com";host==window.location.host&&"https:"!=window.location.protocol&&(window.location.protocol="https"),$.get("./resources/json/data.json",function(a){var e="",t=a.projects;$.each(t,function(a,t){e+="<article>",e+="<div class='control'>",e+="<div class='left'>",e+="<span class='far fa-circle'></span>",e+="<span class='far fa-circle'></span>",e+="<span class='far fa-circle'></span>",e+="</div>",e+="<div class='center'>"+t.name+"</div>",e+="<div class='right'><span class='fas fa-bars'></span></div>",e+="</div>",e+="<div class='content'>",e+="<img src="+t.covers[808]+" alt='' />",e+="<div class='cover animated bounceIn'>",e+="<h1>"+t.name+"</h1>",e+="<div>",e+=" <a href="+t.url+" target='_blank' rel='noopener noreferrer'>Visit Project</a>",e+="</div>",e+="<p><span>Tags:</span> "+t.fields.join(", ")+"</p>",e+="</div>",e+="</div>",e+="<div class='statusbar'></div>",e+="</article>"}),$(".container").append(e)}),window.onscroll=function(){window.pageYOffset>100?$("header").addClass("top"):$("header").removeClass("top"),onScroll()},$("#navigation a").click(function(){var a=this.hash;$target=$(a),$("html, body").stop().animate({scrollTop:$target.offset().top+2},500,"swing",function(){window.location.hash=a,$(document).on("scroll",onScroll)})});var width,height,largeHeader,canvas,ctx,circles,target,animateHeader=!0;initHeader(),addListeners();var config={apiKey:"AIzaSyC3RacuCf1RQEI_rVVuHcg4VOHAa_7R5mA",authDomain:"crm-necessity-pro.firebaseapp.com",databaseURL:"https://crm-necessity-pro.firebaseio.com",projectId:"crm-necessity-pro",storageBucket:"crm-necessity-pro.appspot.com",messagingSenderId:"12736628159"};firebase.initializeApp(config);var leadsDb=firebase.firestore();$(function(){var a="<span class='fas fa-exclamation-circle'></span> ";$("#contactFrm").submit(function(e){if(e.preventDefault(),""==$("#first_name").val()||""==$("#last_name").val()||""==$("#email").val()||""==$("#phone").val()||""==$("#message").val())return $("#validation").html(a+"All the above fields are required."),!1;var t=/^[A-Za-z ]+/,i=/^[0-9 \+]+/,n=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(t.test($("#first_name").val())&&t.test($("#last_name").val()))if(n.test($("#email").val()))if(i.test($("#phone").val())){$("#validation").css({color:"#5aad5a"}),$("#validation").html('<i class="fas fa-check-circle"></i> Thank you for your enquiry. We will get back to you.');var s=$("#message").val();leadsDb.collection("leads").add({name:{first:$("#first_name").val(),last:$("#last_name").val()},email:$("#email").val(),phone:$("#phone").val(),host:"krcreativeagency.com",message:s.replace(/<[^>]+>/g,""),timestamp:new Date}),$("#first_name").val(null),$("#last_name").val(null),$("#email").val(null),$("#phone").val(null),$("#message").val(null),setTimeout(function(){$("#validation").html("")},5e3)}else $("#validation").html(a+"Please only use number 0-9, '+' and ' '(space). Entered phone number is not valid.");else $("#validation").html(a+"Entered email is not valid.");else $("#validation").html(a+"First and last name must contain only alphabets.")})});