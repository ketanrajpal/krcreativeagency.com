function onScroll(){var e=$(document).scrollTop();$("#navigation a").each(function(){var a=$(this),t=$(a.attr("href"));t.position().top<=e&&t.position().top+t.height()>e?($("#navigation a.active").removeClass("active"),$(this).addClass("active")):a.removeClass("active")})}function initHeader(){width=window.innerWidth,height=window.innerHeight,target={x:0,y:height},largeHeader=document.getElementById("large-header"),largeHeader.style.height=height+"px",canvas=document.getElementById("demo-canvas"),canvas.width=width,canvas.height=height,ctx=canvas.getContext("2d"),circles=[];for(var e=0;e<.5*width;e++){var a=new Circle;circles.push(a)}animate()}function addListeners(){window.addEventListener("scroll",scrollCheck),window.addEventListener("resize",resize)}function scrollCheck(){animateHeader=!(document.body.scrollTop>height)}function resize(){width=window.innerWidth,height=window.innerHeight,largeHeader.style.height=height+"px",canvas.width=width,canvas.height=height}function animate(){if(animateHeader)for(var e in ctx.clearRect(0,0,width,height),circles)circles[e].draw();requestAnimationFrame(animate)}function Circle(){function e(){a.pos.x=Math.random()*width,a.pos.y=height+100*Math.random(),a.alpha=.1+.3*Math.random(),a.scale=.1+.3*Math.random(),a.velocity=Math.random()}var a=this;a.pos={},e(),this.draw=function(){a.alpha<=0&&e(),a.pos.y-=a.velocity,a.alpha-=5e-4,ctx.beginPath(),ctx.arc(a.pos.x,a.pos.y,10*a.scale,0,2*Math.PI,!1),ctx.fillStyle="rgba(255,255,255,"+a.alpha+")",ctx.fill()}}var host="www.krcreativeagency.com";host==window.location.host&&"https:"!=window.location.protocol&&(window.location.protocol="https"),window.onscroll=function(){window.pageYOffset>100?$("header").addClass("top"):$("header").removeClass("top"),onScroll()},$("#navigation a").click(function(){var e=this.hash;$target=$(e),$("html, body").stop().animate({scrollTop:$target.offset().top+2},500,"swing",function(){window.location.hash=e,$(document).on("scroll",onScroll)})});var width,height,largeHeader,canvas,ctx,circles,target,animateHeader=!0;initHeader(),addListeners(),$(function(){var e="<span class='fas fa-exclamation-circle'></span> ";$("#contactFrm").submit(function(a){if(a.preventDefault(),""==$("#first_name").val()||""==$("#last_name").val()||""==$("#email").val()||""==$("#phone").val()||""==$("#message").val())return $("#validation").html(e+"All the above fields are required."),!1;var t=/^[A-Za-z ]+/,i=/^[0-9 \+]+/,n=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(t.test($("#first_name").val())&&t.test($("#last_name").val()))if(n.test($("#email").val()))if(i.test($("#phone").val())){$("#validation").css({color:"#5aad5a"}),$("#validation").html('<i class="fas fa-check-circle"></i> Thank you for your enquiry. We will get back to you.');var l=$("#message").val();const e=new Airpuck.Table({name:"Contact",baseID:"appXAQGbIWebGVrON",apiKey:"keygu7MmgjQEqrUnT"},e=>{}),a=new e.record;a.fields["First Name"]=$("#first_name").val(),a.fields["Last Name"]=$("#last_name").val(),a.fields["Email Address"]=$("#email").val(),a.fields["Phone Number"]=$("#phone").val(),a.fields.Message=l.replace(/<[^>]+>/g,""),a.fields.Website="https://www.krcreativeagency.com",console.log(a),e.add(a,e=>{}),$("#first_name").val(null),$("#last_name").val(null),$("#email").val(null),$("#phone").val(null),$("#message").val(null),setTimeout(function(){$("#validation").html("")},5e3)}else $("#validation").html(e+"Please only use number 0-9, '+' and ' '(space). Entered phone number is not valid.");else $("#validation").html(e+"Entered email is not valid.");else $("#validation").html(e+"First and last name must contain only alphabets.")})});