function onScroll(){var a=$(document).scrollTop();$("#navigation a").each(function(){var e=$(this),t=$(e.attr("href"));t.position().top<=a&&t.position().top+t.height()>a?($("#navigation a.active").removeClass("active"),$(this).addClass("active")):e.removeClass("active")})}function initHeader(){width=window.innerWidth,height=window.innerHeight,target={x:0,y:height},largeHeader=document.getElementById("large-header"),largeHeader.style.height=height+"px",canvas=document.getElementById("demo-canvas"),canvas.width=width,canvas.height=height,ctx=canvas.getContext("2d"),circles=[];for(var a=0;a<.5*width;a++){var e=new Circle;circles.push(e)}animate()}function addListeners(){window.addEventListener("scroll",scrollCheck),window.addEventListener("resize",resize)}function scrollCheck(){animateHeader=!(document.body.scrollTop>height)}function resize(){width=window.innerWidth,height=window.innerHeight,largeHeader.style.height=height+"px",canvas.width=width,canvas.height=height}function animate(){if(animateHeader)for(var a in ctx.clearRect(0,0,width,height),circles)circles[a].draw();requestAnimationFrame(animate)}function Circle(){function a(){e.pos.x=Math.random()*width,e.pos.y=height+100*Math.random(),e.alpha=.1+.3*Math.random(),e.scale=.1+.3*Math.random(),e.velocity=Math.random()}var e=this;e.pos={},a(),this.draw=function(){e.alpha<=0&&a(),e.pos.y-=e.velocity,e.alpha-=5e-4,ctx.beginPath(),ctx.arc(e.pos.x,e.pos.y,10*e.scale,0,2*Math.PI,!1),ctx.fillStyle="rgba(255,255,255,"+e.alpha+")",ctx.fill()}}var host="www.krcreativeagency.com";host==window.location.host&&"https:"!=window.location.protocol&&(window.location.protocol="https"),window.onscroll=function(){window.pageYOffset>100?$("header").addClass("top"):$("header").removeClass("top"),onScroll()},$("#navigation a").click(function(){var a=this.hash;$target=$(a),$("html, body").stop().animate({scrollTop:$target.offset().top+2},500,"swing",function(){window.location.hash=a,$(document).on("scroll",onScroll)})});var width,height,largeHeader,canvas,ctx,circles,target,animateHeader=!0;initHeader(),addListeners(),$(function(){var a="<span class='fas fa-exclamation-circle'></span> ";$("#contactFrm").submit(function(e){if(e.preventDefault(),""==$("#first_name").val()||""==$("#last_name").val()||""==$("#email").val()||""==$("#phone").val()||""==$("#message").val())return $("#validation").html(a+"All the above fields are required."),!1;var t=/^[A-Za-z ]+/,i=/^[0-9 \+]+/,n=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(t.test($("#first_name").val())&&t.test($("#last_name").val()))if(n.test($("#email").val()))if(i.test($("#phone").val())){$("#validation").css({color:"#5aad5a"}),$("#validation").html('<i class="fas fa-check-circle"></i> Thank you for your enquiry. We will get back to you.');var l=$("#message").val();const a=new Airpuck.Table({name:"Contact",baseID:"appXAQGbIWebGVrON",apiKey:"keyLkNW8yHRPzaDht"},a=>{}),e=new a.record;e.fields["First Name"]=$("#first_name").val(),e.fields["Last Name"]=$("#last_name").val(),e.fields["Email Address"]=$("#email").val(),e.fields["Phone Number"]=$("#phone").val(),e.fields.Message=l.replace(/<[^>]+>/g,""),e.fields.Website="https://www.krcreativeagency.com",console.log(e),a.add(e,a=>{}),$("#first_name").val(null),$("#last_name").val(null),$("#email").val(null),$("#phone").val(null),$("#message").val(null),setTimeout(function(){$("#validation").html("")},5e3)}else $("#validation").html(a+"Please only use number 0-9, '+' and ' '(space). Entered phone number is not valid.");else $("#validation").html(a+"Entered email is not valid.");else $("#validation").html(a+"First and last name must contain only alphabets.")})});